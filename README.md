<!-- class 2 data is below  -->

// createCounter ржирж╛ржорзЗрж░ ржПржХржЯрж╛ ржлрж╛ржВрж╢ржи рждрзИрж░рж┐ ржХрж░ржЫрж┐
// ржПржЯрж╛ ржПржХржЯрж╛ "function factory" тАФ ржорж╛ржирзЗ, ржПржЯрж╛ ржПржХржЯрж╛ ржирждрзБржи ржлрж╛ржВрж╢ржи ржмрж╛ржирж┐рзЯрзЗ рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рзЗ
const createCounter = () => {

// рж▓рзЛржХрж╛рж▓ ржнрзНржпрж╛рж░рж┐рзЯрзЗржмрж▓ тАФ рж╢рзБржзрзБржорж╛рждрзНрж░ ржПржЗ ржлрж╛ржВрж╢ржирзЗрж░ ржнрзЗрждрж░рзЗ ржерж╛ржХржмрзЗ
// ржмрж╛ржЗрж░рзЗ ржерзЗржХрзЗ ржХрзЗржЙ access ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗ ржирж╛
let count = 0;

// createCounter() ржПржХржЯрж╛ inner ржлрж╛ржВрж╢ржи return ржХрж░рзЗ
// ржПржЗ inner ржлрж╛ржВрж╢ржи ржмрж╛ржЗрж░рзЗрж░ count ржнрзНржпрж╛рж░рж┐рзЯрзЗржмрж▓ржХрзЗ "ржоржирзЗ рж░рж╛ржЦрзЗ"
// ржПржЯрж╛ржХрзЗржЗ ржмрж▓рзЗ **closure**
return (amount) => {

    // ржПржЦрж╛ржирзЗ amount ржкрзНржпрж╛рж░рж╛ржорж┐ржЯрж╛рж░ рж╣рж┐рж╕рзЗржмрзЗ ржЖрж╕ржмрзЗ
    // рж╕рзЗржЗ ржорж╛ржи count ржПрж░ рж╕рж╛ржерзЗ ржпрзЛржЧ ржХрж░рзЗ ржирждрзБржи ржорж╛ржи return ржХрж░ржмрзЗ
    count = count + amount;

    return count;

}
}

// ржПржЦржи ржЖржорж░рж╛ createCounter() ржХрж▓ ржХрж░ржЫрж┐
// ржПржЯрж╛ ржПржХржЯрж╛ ржирждрзБржи function рждрзИрж░рж┐ ржХрж░рзЗ ржжрзЗрзЯ, ржпрзЗржЯрж╛рж░ ржирж┐ржЬрж╕рзНржм "count" ржнрзНржпрж╛рж░рж┐рзЯрзЗржмрж▓ ржЖржЫрзЗ
const counter = createCounter();

// ржПржЦржи counter(3) ржХрж▓ ржХрж░рж▓рзЗ amount = 3
// count = 0 + 3 = 3 тЖТ рж░рж┐ржЯрж╛рж░рзНржи рж╣ржмрзЗ 3
console.log(counter(3));

// ржЖржмрж╛рж░ counter(5) ржХрж▓ ржХрж░рж▓рзЗ amount = 5
// ржЖржЧрзЗрж░ count ржЫрж┐рж▓ 3, ржПржЦржи count = 3 + 5 = 8 тЖТ рж░рж┐ржЯрж╛рж░рзНржи рж╣ржмрзЗ 8
console.log(counter(5));

<!--  -->

ЁЯза Closure ржХрзА?

Closure ржорж╛ржирзЗ ржПржоржи ржПржХржЯрж╛ ржлрж╛ржВрж╢ржи ржпрж╛ рждрж╛рж░ ржмрж╛ржЗрж░рзЗрж░ ржлрж╛ржВрж╢ржирзЗрж░ ржнрзНржпрж╛рж░рж┐рзЯрзЗржмрж▓ржЧрзБрж▓рзЛржХрзЗ ржоржирзЗ рж░рж╛ржЦрзЗ,
ржпржжрж┐ржУ ржмрж╛ржЗрж░рзЗрж░ ржлрж╛ржВрж╢ржиржЯрж╛ рж╢рзЗрж╖ рж╣рзЯрзЗ ржЧрзЗржЫрзЗред

ЁЯСЙ ржЙржжрж╛рж╣рж░ржг:
рждрзБржорж┐ createCounter() рж╢рзЗрж╖ ржХрж░рзЗржЫрзЛ, ржХрж┐ржирзНрждрзБ рждрж╛рж░ ржнрж┐рждрж░рзЗрж░ count ржнрзНржпрж╛рж░рж┐рзЯрзЗржмрж▓ ржПржЦржирзЛ ржмрзЗржБржЪрзЗ ржЖржЫрзЗ ржХрж╛рж░ржг counter() (inner function) рж╕рзЗржЯрж╛ржХрзЗ ржоржирзЗ рж░рзЗржЦрзЗржЫрзЗред

ржПржЯрж╛ржЗ closure-ржПрж░ ржорзНржпрж╛ржЬрж┐ржХред

ЁЯТб ржХрзЗржи ржПржЯрж╛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯ?
ржХрж╛рж░ржг ржмрзНржпрж╛ржЦрзНржпрж╛
ЁЯФТ Private data рж░рж╛ржЦрж╛ ржмрж╛ржЗрж░рзЗрж░ ржХрзЗржЙ count рж╕рж░рж╛рж╕рж░рж┐ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рждрзЗ ржкрж╛рж░рзЗ ржирж╛ тАФ рж╢рзБржзрзБ рж╕рзЗржЗ ржлрж╛ржВрж╢ржирзЗрж░ ржорж╛ржзрзНржпржорзЗржЗ ржкрж░рж┐ржмрж░рзНрждржи рж╣рзЯред
тЪЩя╕П State ржзрж░рзЗ рж░рж╛ржЦрж╛ ржПржХржмрж╛рж░ ржлрж╛ржВрж╢ржи ржХрж▓ ржХрж░рж╛рж░ ржкрж░ржУ, ржЖржЧрзЗрж░ ржорж╛ржи ржоржирзЗ рж░рж╛ржЦрждрзЗ ржкрж╛рж░рзЗред
тЩ╗я╕П Encapsulation Object Oriented ржкрзНрж░рзЛржЧрзНрж░рж╛ржорж┐ржВрзЯрзЗрж░ ржорждрзЛ, ржбрж╛ржЯрж╛ ржУ рж▓ржЬрж┐ржХ ржПржХрж╕рж╛ржерзЗ рж░рж╛ржЦрждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗред
ЁЯЪА Functional Programming-friendly ржХрзНрж▓рж╛рж╕ ржмрж╛ ржЕржмржЬрзЗржХрзНржЯ ржЫрж╛рзЬрж╛ржЗ stateful behavior рждрзИрж░рж┐ ржХрж░рж╛ ржпрж╛рзЯред
ЁЯХТ ржХржЦржи ржПржЯрж╛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯ?
ржХржЦржи ржЙржжрж╛рж╣рж░ржг
тЬЕ ржпржЦржи ржнрзНржпрж╛рж░рж┐рзЯрзЗржмрж▓ ржмрж╛ржЗрж░рзЗ ржерзЗржХрзЗ рж▓рзБржХрж┐рзЯрзЗ рж░рж╛ржЦрждрзЗ ржЪрж╛ржУ ржпрзЗржоржи counter, secret key, configuration value ржЗрждрзНржпрж╛ржжрж┐
тЬЕ ржпржЦржи ржПржХржЗ ржХрзЛржб ржерзЗржХрзЗ ржПржХрж╛ржзрж┐ржХ "instance" ржжрж░ржХрж╛рж░ ржпрзЗржоржи ржПржХрж╛ржзрж┐ржХ ржХрж╛ржЙржирзНржЯрж╛рж░ ржпрзЗржЧрзБрж▓рзЛ ржЖрж▓рж╛ржжрж╛ ржЖрж▓рж╛ржжрж╛ ржХрж╛ржЬ ржХрж░ржмрзЗ
тЬЕ Event handler ржмрж╛ callback ржлрж╛ржВрж╢ржирзЗ ржпрзЗржоржи React, setTimeout, API call-ржПрж░ ржоржзрзНржпрзЗ
тЬЕ Module ржмрж╛ utility function рждрзИрж░рж┐рждрзЗ ржпрзЗржоржи debounce(), throttle(), logger() ржЗрждрзНржпрж╛ржжрж┐
тЪЦя╕П Closure-ржПрж░ ржнрж╛рж▓рзЛ ржжрж┐ржХ (ЁЯСН)
ржнрж╛рж▓рзЛ ржжрж┐ржХ ржХрж╛рж░ржг
ЁЯФР Private data security ржмрж╛ржЗрж░рзЗрж░ ржХрзЗржЙ data manipulate ржХрж░рждрзЗ ржкрж╛рж░рзЗ ржирж╛
ЁЯза Memory efficiency ржпрждржХрзНрж╖ржг ржжрж░ржХрж╛рж░, рждрждржХрзНрж╖ржг ржкрж░рзНржпржирзНржд variable ржЬрзАржмрж┐ржд ржерж╛ржХрзЗ
ЁЯзй Clean code ржЧрзНрж▓рзЛржмрж╛рж▓ ржнрзНржпрж╛рж░рж┐рзЯрзЗржмрж▓ ржХржо рж▓рж╛ржЧрзЗ
ЁЯМА Reusable functions ржПржХржЗ ржЯрзЗржоржкрзНрж▓рзЗржЯ ржжрж┐рзЯрзЗ ржирждрзБржи ржлрж╛ржВрж╢ржи рждрзИрж░рж┐ ржХрж░рж╛ ржпрж╛рзЯ
тЪая╕П Closure-ржПрж░ ржЦрж╛рж░рж╛ржк ржжрж┐ржХ (ЁЯСО)
ржЦрж╛рж░рж╛ржк ржжрж┐ржХ ржХрж╛рж░ржг
ЁЯз╣ Memory leak рж╣рждрзЗ ржкрж╛рж░рзЗ ржнрзБрж▓ржнрж╛ржмрзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж▓рзЗ ржнрзНржпрж╛рж░рж┐рзЯрзЗржмрж▓ ржорзЗржорж░рж┐рждрзЗ ржерзЗржХрзЗ ржпрж╛рзЯ
ЁЯХ│я╕П Debug ржХрж░рж╛ ржХржарж┐ржи ржХрзЛржи ржнрзНржпрж╛рж░рж┐рзЯрзЗржмрж▓ ржХрзЛржерж╛ ржерзЗржХрзЗ ржЖрж╕ржЫрзЗ рж╕рзЗржЯрж╛ ржмрзЛржЭрж╛ ржХржарж┐ржи рж╣рждрзЗ ржкрж╛рж░рзЗ
ЁЯзй ржЕрждрж┐рж░рж┐ржХрзНржд nested function ржХрзЛржб ржЬржЯрж┐рж▓ ржХрж░рзЗ ржЕржирзЗржХ ржмрзЗрж╢рж┐ closure ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж▓рзЗ ржХрзЛржб unreadable рж╣рзЯрзЗ ржпрж╛рзЯ
ЁЯУЪ ржПржЯрж╛ ржХрж┐ Data Structure?

ржирж╛ тАФ closure ржХрзЛржирзЛ data structure ржирж╛, ржПржЯрж╛ ржПржХржЯрж╛ concept (behavioral feature)
тЮбя╕П JavaScript-ржП function ржпржЦржи рждрж╛рж░ lexical scope ржоржирзЗ рж░рж╛ржЦрзЗ, рждржЦржи closure рждрзИрж░рж┐ рж╣рзЯред

Data structure ржорж╛ржирзЗ рж╣рж▓рзЛ тАФ ржпрзЗржЧрзБрж▓рзЛ data organize ржХрж░рзЗ, ржпрзЗржоржи
array, object, map, set, stack, queue, linked list ржЗрждрзНржпрж╛ржжрж┐ред

Closure рж╣рж▓рзЛ ржПржХржЯрж╛ function + environment combo,
ржпрзЗржЦрж╛ржирзЗ environment ржорж╛ржирзЗ рждрж╛рж░ outer variable referencesред

ЁЯФо рж╕ржВржХрзНрж╖рзЗржкрзЗ (Summary)
ржмрж┐рж╖рзЯ ржмрзНржпрж╛ржЦрзНржпрж╛
Closure ржХрзА ржПржоржи ржлрж╛ржВрж╢ржи ржпрж╛ рждрж╛рж░ ржмрж╛ржЗрж░рзЗрж░ рж╕рзНржХрзЛржкрзЗрж░ ржнрзНржпрж╛рж░рж┐рзЯрзЗржмрж▓ ржоржирзЗ рж░рж╛ржЦрзЗ
ржХрзЗржи ржжрж░ржХрж╛рж░ private data ржУ stateful behavior рждрзИрж░рж┐рж░ ржЬржирзНржп
ржХржЦржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржмрзЛ ржпржЦржи data ржмрж╛ржЗрж░рзЗ ржерзЗржХрзЗ hide ржХрж░рждрзЗ ржЪрж╛ржЗ, ржмрж╛ state рж░рж╛ржЦрждрзЗ ржЪрж╛ржЗ
ржнрж╛рж▓рзЛ ржжрж┐ржХ security, cleaner code, less global variables
ржЦрж╛рж░рж╛ржк ржжрж┐ржХ memory leak ржУ debugging problem рж╣рждрзЗ ржкрж╛рж░рзЗ
Data Structure? ржирж╛, ржПржЯрж╛ data structure ржирзЯ; ржПржЯрж╛ function-ржПрж░ behavior concept

<!--  -->
<!--  -->
<!--  -->
<!--  -->

// ржПржЯрж┐ ржПржХржЯрж┐ "Counter" ржирж╛ржорзЗрж░ ржХрзНрж▓рж╛рж╕ (class) рждрзИрж░рж┐ ржХрж░рж╛ рж╣рж▓рзЛред
// ржХрзНрж▓рж╛рж╕ рж╣рж▓рзЛ ржПржоржи ржПржХржЯрж┐ ржиржХрж╢рж╛ (blueprint) ржпрзЗржЯрж╛ ржжрж┐рзЯрзЗ ржПржХрж╛ржзрж┐ржХ ржЕржмржЬрзЗржХрзНржЯ (object) рждрзИрж░рж┐ ржХрж░рж╛ ржпрж╛рзЯ,
// ржпрзЗржЧрзБрж▓рзЛрж░ ржкрзНрж░ржкрж╛рж░рзНржЯрж┐ ржУ ржорзЗржержб (method) ржПржХ рж░ржХржо рж╣рзЯред
class Counter {

// constructor рж╣рж▓рзЛ ржПржХржЯрж┐ ржмрж┐рж╢рзЗрж╖ ржорзЗржержбред
// ржпржЦржиржЗ ржЖржорж░рж╛ "new Counter()" ржжрж┐рзЯрзЗ ржирждрзБржи ржЕржмржЬрзЗржХрзНржЯ ржмрж╛ржирж╛ржЗ, ржПржЯрж┐ рж╕рзНржмрзЯржВржХрзНрж░рж┐рзЯржнрж╛ржмрзЗ ржЪрж╛рж▓рзБ рж╣рзЯред
constructor(count) {
// ржПржЦрж╛ржирзЗ "this" ржорж╛ржирзЗ рж╣рж▓рзЛ ржмрж░рзНрждржорж╛ржирзЗ рждрзИрж░рж┐ рж╣ржУрзЯрж╛ ржЕржмржЬрзЗржХрзНржЯржЯрж┐ред
// ржкрзНрж░рждрж┐ржЯрж┐ ржЕржмржЬрзЗржХрзНржЯрзЗрж░ ржирж┐ржЬрж╕рзНржм "count" ржкрзНрж░ржкрж╛рж░рзНржЯрж┐ ржерж╛ржХржмрзЗред
this.count = count;
}

// ржПржЗ ржорзЗржержб (add) ржжрж┐рзЯрзЗ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржкрж░рж┐ржорж╛ржг рж╕ржВржЦрзНржпрж╛ ржпрзЛржЧ ржХрж░рж╛ рж╣рзЯред
add(amount) {
// ржПржЦрж╛ржирзЗ "this.count" ржорж╛ржирзЗ рж╣рж▓рзЛ рж╕рзЗржЗ ржЕржмржЬрзЗржХрзНржЯрзЗрж░ count ржорж╛ржиред
this.count = this.count + amount;
}

// ржПржЗ ржорзЗржержбржЯрж┐ ржмрж░рзНрждржорж╛ржи count ржПрж░ ржорж╛ржи ржХржирж╕рзЛрж▓рзЗ ржкрзНрж░рж┐ржирзНржЯ ржХрж░ржмрзЗред
print() {
console.log(this.count);
}
}

// ---- ржХрзНрж▓рж╛рж╕ржЯрж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ----

// "Counter" ржХрзНрж▓рж╛рж╕ ржерзЗржХрзЗ ржПржХржЯрж┐ ржирждрзБржи ржЕржмржЬрзЗржХрзНржЯ рждрзИрж░рж┐ ржХрж░рж╛ рж╣рж▓рзЛ, ржпрж╛рж░ рж╢рзБрж░рзБ ржорж╛ржи 0ред
const counter1 = new Counter(0);

// counter1 ржПрж░ count ржмрж╛рзЬрж╛ржирзЛ рж╣рж▓рзЛ рзи ржУ рзй ржХрж░рзЗред
counter1.add(2);
counter1.add(3);

// ржПржЦржи counter1 ржПрж░ count ржкрзНрж░рж┐ржирзНржЯ рж╣ржмрзЗ тЖТ рзл
counter1.print();

// ржЖрж░рзЗржХржЯрж┐ ржЖрж▓рж╛ржжрж╛ ржЕржмржЬрзЗржХрзНржЯ рждрзИрж░рж┐ ржХрж░рж╛ рж╣рж▓рзЛ, ржпрж╛рж░ рж╢рзБрж░рзБ ржорж╛ржи рззрзжред
const counter2 = new Counter(10);

// counter2 рждрзЗ рзирзж ржУ рзйрзж ржпрзЛржЧ ржХрж░рж╛ рж╣рж▓рзЛред
counter2.add(20);
counter2.add(30);

// ржПржЦржи counter2 ржПрж░ ржорж╛ржи ржкрзНрж░рж┐ржирзНржЯ рж╣ржмрзЗ тЖТ рзмрзж
counter2.print();
ЁЯза ржмрзНржпрж╛ржЦрзНржпрж╛:
тЬЕ class ржХрзА?
class рж╣рж▓рзЛ ржЕржмржЬрзЗржХрзНржЯ рждрзИрж░рж┐рж░ ржПржХржЯрж┐ ржиржХрж╢рж╛ ржмрж╛ ржЫрж╛ржБржЪ (template)ред

ржПрждрзЗ ржкрзНрж░ржкрж╛рж░рзНржЯрж┐ (ржпрзЗржоржи: count) ржУ ржорзЗржержб (ржпрзЗржоржи: add() ржУ print()) ржерж╛ржХрзЗред

ржПржЯрж╛ object-oriented programming (OOP) ржПрж░ ржПржХржЯрж┐ ржорзВрж▓ ржзрж╛рж░ржгрж╛ред

тЬЕ this ржХрзА?
this ржорж╛ржирзЗ рж╣рж▓рзЛ тАЬржПржЗ ржЕржмржЬрзЗржХрзНржЯржЯрж┐тАЭ тАФ ржЕрж░рзНржерж╛рзО ржпрзЗржЗ ржЕржмржЬрзЗржХрзНржЯ ржерзЗржХрзЗ ржорзЗржержбржЯрж┐ ржбрж╛ржХрж╛ рж╣рзЯрзЗржЫрзЗред

ржЙржжрж╛рж╣рж░ржг:

ржпржЦржи рж▓рж┐ржЦрж┐ counter1.add(2) тЖТ рждржЦржи this ржорж╛ржирзЗ counter1ред

ржЖржмрж╛рж░ counter2.add(20) тЖТ рждржЦржи this ржорж╛ржирзЗ counter2ред

ЁЯСЙ this ржирж╛ ржерж╛ржХрж▓рзЗ ржкрзНрж░рзЛржЧрзНрж░рж╛ржо ржмрзБржЭрждрзЗ ржкрж╛рж░ржмрзЗ ржирж╛ ржХрзЛржи ржЕржмржЬрзЗржХрзНржЯрзЗрж░ count ржЖржкржбрзЗржЯ ржХрж░рждрзЗ рж╣ржмрзЗред

тЬЕ ржХрзЗржи class ржУ this ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж┐?
ржПржХржЗ ржХрзЛржб ржжрж┐рзЯрзЗ ржЕржирзЗржХржЧрзБрж▓рзЛ ржЖрж▓рж╛ржжрж╛ ржЕржмржЬрзЗржХрзНржЯ рждрзИрж░рж┐ ржХрж░рж╛ ржпрж╛рзЯред

ржкрзНрж░рждрзНржпрзЗржХ ржЕржмржЬрзЗржХрзНржЯрзЗрж░ ржирж┐ржЬрж╕рзНржм ржбрзЗржЯрж╛ ржерж╛ржХржмрзЗ, ржХрж┐ржирзНрждрзБ ржПржХржЗ рж░ржХржо ржХрж╛ржЬ ржХрж░ржмрзЗ (ржПржХржЗ ржорзЗржержб ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ)ред

ржХрзЛржб ржЕржирзЗржХ ржмрзЗрж╢рж┐ ржкрж░рж┐рж╖рзНржХрж╛рж░, ржкрзБржиржГржмрзНржпржмрж╣рж╛рж░ржпрзЛржЧрзНржп (reusable) ржУ рж╕рзБрж╢рзГржЩрзНржЦрж▓ (organized) рж╣рзЯред

тЬЕ ржПржЯрж╛ ржХрж┐ data structure?
ржкрзБрж░рзЛржкрзБрж░рж┐ ржирж╛ред
Data structure рж╣рж▓рзЛ ржПржоржи ржЬрж┐ржирж┐рж╕ ржпрж╛ ржбрзЗржЯрж╛ рж╕ржВрж░ржХрзНрж╖ржг ржУ рж╕ржВржЧржарж┐ржд ржХрж░рждрзЗ ржмрзНржпржмрж╣рзГржд рж╣рзЯ (ржпрзЗржоржи: array, object, map, set ржЗрждрзНржпрж╛ржжрж┐)ред

ржХрж┐ржирзНрждрзБ class рж╣рж▓рзЛ ржПржХ ржзрж░ржирзЗрж░ ржмрзНрж▓рзБржкрзНрж░рж┐ржирзНржЯ, ржпрзЗржЯрж╛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржбрзЗржЯрж╛ ржУ ржЖржЪрж░ржг (function) ржПржХрж╕рж╛ржерзЗ рж░рж╛ржЦрж╛ ржпрж╛рзЯред
ржорж╛ржирзЗ тАФ ржХрзНрж▓рж╛рж╕ ржжрж┐рзЯрзЗ ржЖржорж░рж╛ ржирж┐ржЬрзЗрж░ ржорждрзЛ ржХрж░рзЗ ржПржХржЯрж╛ data structure ржмрж╛ржирж╛рждрзЗ ржкрж╛рж░рж┐ред

тЬЕ ржХржЦржи class ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржнрж╛рж▓рзЛ:
ржпржЦржи ржПржХрж╛ржзрж┐ржХ ржПржХржЗ рж░ржХржо ржЕржмржЬрзЗржХрзНржЯ рждрзИрж░рж┐ ржХрж░рждрзЗ рж╣рзЯ (ржпрзЗржоржи: ржЕржирзЗржХ user, counter, ржмрж╛ bank account)ред

ржпржЦржи ржХрзЛржбржХрзЗ organized ржУ clean рж░рж╛ржЦрждрзЗ ржЪрж╛ржУред

//_
Stack рж╣рж▓рзЛ ржПржХржЯрж┐ ржЦрзБржм ржкрж░рж┐ржЪрж┐ржд Data Structure (ржбрзЗржЯрж╛ ржЧржаржи),
ржпрзЗржЦрж╛ржирзЗ ржбрзЗржЯрж╛ рж░рж╛ржЦрж╛ ржУ рждрзЛрж▓рж╛ рж╣рзЯ "LIFO" ржирж┐рзЯржорзЗ тАФ ржЕрж░рзНржерж╛рзО "Last In, First Out"ред
ржорж╛ржирзЗ ржпрзЗржЯрж╛ рж╕ржмржЪрзЗрзЯрзЗ рж╢рзЗрж╖рзЗ ржврзЛржХрзЗ, рж╕рзЗржЯрж╛ржЗ рж╕ржмржЪрзЗрзЯрзЗ ржЖржЧрзЗ ржмрзЗрж░ рж╣рзЯред
_/

class Stack {
constructor() {
// ржПржЦрж╛ржирзЗ ржЖржорж░рж╛ stack-ржПрж░ рж╕ржм ржЙржкрж╛ржжрж╛ржи (items) ржПржХржЯрж┐ array-рждрзЗ рж░рж╛ржЦржмред
// ржХрзНрж▓рж╛рж╕ рждрзИрж░рж┐ рж╣рж▓рзЗ ржПржЗ array ржлрж╛ржБржХрж╛ ржерж╛ржХржмрзЗред
this.items = [];
}

// push(value) ржорзЗржержбржЯрж┐ stack-ржП ржирждрзБржи ржПржХржЯрж┐ ржорж╛ржи ржпрзЛржЧ ржХрж░рзЗред
push(value) {
this.items.push(value); // array-ржПрж░ рж╢рзЗрж╖рзЗ ржорж╛ржи ржпрзБржХрзНржд ржХрж░рж╛ рж╣ржЪрзНржЫрзЗред
}

// pop() ржорзЗржержбржЯрж┐ stack ржерзЗржХрзЗ рж╕рж░рзНржмрж╢рзЗрж╖ ржпрзЛржЧ ржХрж░рж╛ ржорж╛ржиржЯрж┐ рж╕рж░рж┐рзЯрзЗ ржжрзЗрзЯред
pop() {
// ржпржжрж┐ stack ржлрж╛ржБржХрж╛ ржерж╛ржХрзЗ, рждрж╛рж╣рж▓рзЗ undefined рж░рж┐ржЯрж╛рж░рзНржи ржХрж░ржмрзЗред
if (this.isEmpty()) {
return undefined;
}
// ржирж╛ рж╣рж▓рзЗ рж╕рж░рзНржмрж╢рзЗрж╖ ржЙржкрж╛ржжрж╛ржиржЯрж┐ pop() ржХрж░рзЗ рж░рж┐ржЯрж╛рж░рзНржи ржХрж░ржмрзЗред
return this.items.pop();
}

// peek() ржорзЗржержбржЯрж┐ stack-ржПрж░ рж╕рж░рзНржмрж╢рзЗрж╖ ржорж╛ржиржЯрж╛ "ржжрзЗржЦрзЗ", ржХрж┐ржирзНрждрзБ ржорзБржЫрзЗ ржирж╛ред
peek() {
// ржпржжрж┐ stack ржлрж╛ржБржХрж╛ ржерж╛ржХрзЗ, undefined рж░рж┐ржЯрж╛рж░рзНржи ржХрж░ржмрзЗред
if (this.isEmpty()) {
return undefined;
}
// stack-ржПрж░ рж╢рзЗрж╖ ржЙржкрж╛ржжрж╛ржиржЯрж┐ ржжрзЗржЦрж╛ржмрзЗ (index = length - 1)
return this.items[this.items.length - 1];
}

// isEmpty() ржорзЗржержбржЯрж┐ ржЪрзЗржХ ржХрж░рзЗ stack ржлрж╛ржБржХрж╛ ржХрж┐ржирж╛ред
isEmpty() {
// ржпржжрж┐ length = 0 рж╣рзЯ тЖТ ржлрж╛ржБржХрж╛ true, ржирж╛рж╣рж▓рзЗ falseред
return this.items.length === 0;
}

// print() ржорзЗржержбржЯрж┐ ржкрзБрж░рзЛ stack ржкрзНрж░рж┐ржирзНржЯ ржХрж░рзЗ тАФ ржЙржкрж░рзЗрж░ ржжрж┐ржХ ржерзЗржХрзЗ ржирж┐ржЪ ржкрж░рзНржпржирзНрждред
print() {
// slice() ржжрж┐рзЯрзЗ ржХржкрж┐ ржирзЗржУрзЯрж╛ рж╣рзЯ (ржорзВрж▓ array ржкрж░рж┐ржмрж░рзНрждржи ржирж╛ ржХрж░рж╛рж░ ржЬржирзНржп)ред
// reverse() ржХрж░рзЗ ржЙржкрж░рзЗрж░ ржжрж┐ржХ ржерзЗржХрзЗ ржирж┐ржЪрзЗрж░ ржжрж┐ржХрзЗ рж╕рж╛ржЬрж╛ржирзЛ рж╣рзЯред
// join(" -> ") ржжрж┐рзЯрзЗ рж╕рзБржирзНржжрж░ржнрж╛ржмрзЗ ржпрзБржХрзНржд ржХрж░рзЗ ржкрзНрж░рж┐ржирзНржЯ ржХрж░рж╛ рж╣рзЯред
console.log(this.items.slice().reverse().join(" -> "));
}
}

// ---- Stack ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ----

// ржирждрзБржи ржПржХржЯрж┐ stack рждрзИрж░рж┐ ржХрж░рж╛ рж╣рж▓рзЛред
const stack = new Stack();

// peek() ржорзЗржержбрзЗ ржХрж┐ржЫрзБ ржирж╛ ржерж╛ржХрж╛рзЯ undefined ржжрзЗржЦрж╛ржмрзЗред
console.log(stack.peek()); // undefined

// stack ржлрж╛ржБржХрж╛ ржХрж┐ржирж╛ ржЪрзЗржХ ржХрж░рж╛ рж╣рж▓рзЛ тЖТ true
console.log(stack.isEmpty()); // true

// stack-ржП ржХрж┐ржЫрзБ ржорж╛ржи push ржХрж░рж╛ рж╣рж▓рзЛред
stack.push(10);
stack.push(20);
stack.push(30);

// stack ржПржЦржи ржПржоржи: [10, 20, 30]
// ржХрж┐ржирзНрждрзБ print() ржХрж░рж▓рзЗ ржЖржорж░рж╛ ржЙржкрж░рзЗрж░ ржжрж┐ржХ ржерзЗржХрзЗ (LIFO) ржжрзЗржЦржмред
stack.print(); // Output: 30 -> 20 -> 10

// peek() ржжрж┐рзЯрзЗ рж╢рзБржзрзБ рж╢рзЗрж╖ ржорж╛ржиржЯрж╛ ржжрзЗржЦрж╛ рж╣рж▓рзЛ (30)
console.log(stack.peek()); // 30

// pop() ржжрж┐рзЯрзЗ рж╢рзЗрж╖ ржорж╛ржиржЯрж╛ рж╕рж░рж┐рзЯрзЗ ржлрзЗрж▓рж╛ рж╣рж▓рзЛред
console.log(stack.pop()); // 30 рж╕рж░рж┐рзЯрзЗ ржжрж┐рж▓, ржПржЦржи stack: [10, 20]

this, slice(), peek(), ржЖрж░ ржЕржирзНржпрж╛ржирзНржп ржмрж┐рж╖рзЯ ржпрзЗржоржи push(), pop() тАФ
рж╕ржмржЧрзБрж▓рзЛрж░ ржЕрж░рзНрже, ржХрж╛ржЬ, ржЖрж░ ржХрзЗржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж┐ тАФ ржмрж┐рж╕рзНрждрж╛рж░рж┐рждржнрж╛ржмрзЗ ржмрж╛ржВрж▓рж╛рзЯ ЁЯСЗ

ЁЯзй рззя╕ПтГг this ржХрзА?
this.items.push(value);

ЁЯФ╣ this ржорж╛ржирзЗ "ржПржЗ ржЕржмржЬрзЗржХрзНржЯржЯрж┐ ржирж┐ржЬрзЗ" тАФ ржЕрж░рзНржерж╛рзО ржпрзЗ ржЕржмржЬрзЗржХрзНржЯ ржерзЗржХрзЗ ржорзЗржержб (function) ржбрж╛ржХрж╛ рж╣ржЪрзНржЫрзЗред

ржЙржжрж╛рж╣рж░ржг:

const stack1 = new Stack();
const stack2 = new Stack();
stack1.push(10);

ржПржЦрж╛ржирзЗ stack1.push(10) ржбрж╛ржХрж╛рж░ рж╕ржорзЯ тАФ
this ржорж╛ржирзЗ рж╣рж▓рзЛ stack1ред
рждрж╛ржЗ stack1 ржПрж░ items array-рждрзЗ ржорж╛ржи ржпрзЛржЧ рж╣ржмрзЗред
ржЕржирзНржпржжрж┐ржХрзЗ stack2 ржбрж╛ржХрж╛ рж╣рж▓рзЗ, this ржорж╛ржирзЗ stack2 рж╣ржмрзЗред

тЬЕ рж╕рж╣ржЬржнрж╛ржмрзЗ ржмрж▓рж▓рзЗ:
ЁЯСЙ тАЬthisтАЭ ржжрж┐рзЯрзЗ ржЖржорж░рж╛ ржПржХржЯрж┐ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржЕржмржЬрзЗржХрзНржЯрзЗрж░ property ржмрж╛ method-ржП ржкрзНрж░ржмрзЗрж╢ ржХрж░рж┐ред

ЁЯзй рзия╕ПтГг slice() ржХрзА?
this.items.slice().reverse().join(" -> ")

ЁЯФ╣ slice() рж╣рж▓рзЛ Array method, ржпрзЗржЯрж╛ ржорзВрж▓ array-ржПрж░ ржПржХржЯрж┐ copy рждрзИрж░рж┐ ржХрж░рзЗред

ржПрж░ ржорж╛ржирзЗ: ржорзВрж▓ this.items ржкрж░рж┐ржмрж░рзНрждржи рж╣рзЯ ржирж╛ тАФ рж╢рзБржзрзБ рждрж╛рж░ ржПржХржЯрж┐ ржирждрзБржи ржХржкрж┐ рждрзИрж░рж┐ рж╣рзЯред

ржЙржжрж╛рж╣рж░ржг:

const arr = [10, 20, 30];
const copy = arr.slice(); // arr ржПрж░ ржХржкрж┐ рждрзИрж░рж┐ рж╣рж▓рзЛ

Stack-ржПрж░ print() ржорзЗржержбрзЗ ржЖржорж░рж╛ slice() ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж┐ ржпрзЗржи reverse() ржХрж░рж▓рзЗ ржорзВрж▓ array ржкрж░рж┐ржмрж░рзНрждржи ржирж╛ рж╣рзЯред

ЁЯзй рзйя╕ПтГг peek() ржХрзА?
peek() {
if (this.isEmpty()) {
return undefined;
}
return this.items[this.items.length - 1];
}

ЁЯФ╣ peek() ржорж╛ржирзЗ рж╣рж▓рзЛ тАФ stack-ржПрж░ ржЙржкрж░рзЗрж░ (рж╢рзЗрж╖рзЗрж░) ржорж╛ржиржЯрж╛ ржжрзЗржЦрж╛, ржХрж┐ржирзНрждрзБ рж╕рзЗржЯрж┐ ржорзБржЫрзЗ ржлрзЗрж▓рж╛ ржирзЯред

ржпрзЗржоржи:

stack.push(10);
stack.push(20);
stack.push(30);

console.log(stack.peek()); // 30

ржХрж┐ржирзНрждрзБ ржПржЦржирзЛ stack ржПрж░ ржнрж┐рждрж░рзЗ ржЖржЫрзЗ [10, 20, 30] (ржХрж┐ржЫрзБ ржорзБржЫрзЗ ржпрж╛рзЯржирж┐)ред

тЬЕ ржЕрж░рзНржерж╛рзО:

peek() тЖТ тАЬржЙржБржХрж┐ ржжрзЗржУрзЯрж╛тАЭ (рж╢рзБржзрзБ ржжрзЗржЦрж╛, ржирж╛ рждрзЛрж▓рж╛)

ЁЯзй рзкя╕ПтГг push() ржХрзА?
push(value) {
this.items.push(value);
}

ЁЯФ╣ Array-ржПрж░ push() ржорзЗржержб ржирждрзБржи ржорж╛ржи рж╢рзЗрж╖рзЗ ржпрзБржХрзНржд ржХрж░рзЗред

Stack-ржП ржорж╛ржирзЗ рж╣рж▓рзЛ: ржЙржкрж░рзЗ ржирждрзБржи ржПржХржЯрж┐ ржЙржкрж╛ржжрж╛ржи ржпрзЛржЧ ржХрж░рж╛ред
ржЙржжрж╛рж╣рж░ржг:

stack.push(10);
stack.push(20);
// Stack ржПржЦржи: [10, 20]

ЁЯзй рзля╕ПтГг pop() ржХрзА?
pop() {
if (this.isEmpty()) {
return undefined;
}
return this.items.pop();
}

ЁЯФ╣ Array-ржПрж░ pop() ржорзЗржержб рж╢рзЗрж╖ ржЙржкрж╛ржжрж╛ржиржЯрж┐ рж╕рж░рж┐рзЯрзЗ ржлрзЗрж▓рзЗ ржПржмржВ рж╕рзЗржЯрж┐ рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рзЗред

Stack-ржП ржПрж░ ржорж╛ржирзЗ рж╣рж▓рзЛ: ржЙржкрж░рзЗрж░ ржжрж┐ржХрзЗрж░ ржЖржЗржЯрзЗржоржЯрж╛ рждрзЛрж▓рж╛ред
ржЙржжрж╛рж╣рж░ржг:

const val = stack.pop(); // рж╢рзЗрж╖рзЗрж░ ржорж╛ржи ржорзБржЫрзЗ ржлрзЗрж▓рзЗ val-ржП рж░рж╛ржЦрзЗ

тЬЕ Stack ржПрж░ ржирж┐рзЯржо ржЕржирзБржпрж╛рзЯрзА: тАЬLast In, First Out (LIFO)тАЭ тАФ
рждрж╛ржЗ рж╢рзЗрж╖ ржпрзЗржЯрж╛ ржврзЛржХрзЗ, рж╕рзЗржЯрж╛ pop() ржХрж░рзЗ ржмрзЗрж░ рж╣рзЯред

ЁЯзй рзмя╕ПтГг isEmpty() ржХрзА?
isEmpty() {
return this.items.length === 0;
}

ЁЯФ╣ ржПржЯрж╛ ржжрзЗржЦрзЗ stack ржлрж╛ржБржХрж╛ ржХрж┐ржирж╛ред
ржпржжрж┐ items array-ржПрж░ ржжрзИрж░рзНржШрзНржп рзж рж╣рзЯ, рждрж╛рж╣рж▓рзЗ true рж░рж┐ржЯрж╛рж░рзНржи ржХрж░ржмрзЗред
ржирзЯрждрзЛ falseред

ЁЯзй рзня╕ПтГг print() ржХрзАржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ?
print() {
console.log(this.items.slice().reverse().join(" -> "));
}

ржзрж╛ржкрзЗ ржзрж╛ржкрзЗ:

this.items.slice() тЖТ ржорзВрж▓ stack-ржПрж░ ржХржкрж┐ ржирзЗрзЯред

.reverse() тЖТ ржЙрж▓рзНржЯрзЗ ржжрзЗрзЯ (ржпрзЗржи ржЙржкрж░рзЗрж░ ржжрж┐ржХ ржерзЗржХрзЗ ржирж┐ржЪрзЗрж░ ржжрж┐ржХрзЗ ржжрзЗржЦрж╛ ржпрж╛рзЯ)ред

.join(" -> ") тЖТ ржкрзНрж░рждрж┐ржЯрж┐ ржорж╛ржиржХрзЗ тАЬ -> тАЭ ржЪрж┐рж╣рзНржи ржжрж┐рзЯрзЗ ржпрзБржХрзНржд ржХрж░рзЗред

console.log() тЖТ рж╕рзБржирзНржжрж░ржнрж╛ржмрзЗ ржЖржЙржЯржкрзБржЯ ржжрзЗржЦрж╛рзЯред

ржЙржжрж╛рж╣рж░ржг:

stack.push(10);
stack.push(20);
stack.push(30);
stack.print(); // Output: 30 -> 20 -> 10

ЁЯУж рж╕рж╛рж░рж╛ржВрж╢:
ржЕржВрж╢ ржХрзА ржХрж░рзЗ рж╕рж╣ржЬ ржЙржжрж╛рж╣рж░ржг
this ржмрж░рзНрждржорж╛ржи ржЕржмржЬрзЗржХрзНржЯ ржмрзЛржЭрж╛рзЯ this.items.push() ржорж╛ржирзЗ тАЬржПржЗ stack-ржПрж░ array-рждрзЗ ржпрзЛржЧ ржХрж░рзЛтАЭ
push() stack-ржПрж░ ржЙржкрж░рзЗ ржорж╛ржи ржпрзЛржЧ ржХрж░рзЗ stack.push(10)
pop() stack-ржПрж░ ржЙржкрж░рзЗрж░ ржорж╛ржи рж╕рж░рж╛рзЯ stack.pop()
peek() рж╢рзБржзрзБ ржЙржкрж░рзЗрж░ ржорж╛ржи ржжрзЗржЦрзЗ, ржорзБржЫрзЗ ржирж╛ stack.peek()
isEmpty() stack ржлрж╛ржБржХрж╛ ржХрж┐ржирж╛ ржжрзЗржЦрзЗ stack.isEmpty()
slice() array-ржПрж░ ржХржкрж┐ рждрзИрж░рж┐ ржХрж░рзЗ arr.slice()
reverse() array ржЙрж▓рзНржЯрзЗ ржжрзЗрзЯ [1,2,3].reverse() тЖТ [3,2,1]
join() array ржХрзЗ string-ржП рж░рзВржкрж╛ржирзНрждрж░ ржХрж░рзЗ [3,2,1].join("->") тЖТ "3->2->1"

<!-- ЁЯФД рждрзБрж▓ржирж╛: Stack vs Queue
ржмрж┐рж╖рзЯ	Stack	Queue
ржирж┐рзЯржо	LIFO (Last In, First Out)	FIFO (First In, First Out)
ржЙржжрж╛рж╣рж░ржг	ржмржЗрзЯрзЗрж░ рж╕рзНрждрзВржк (ржЙржкрж░рзЗрж░ ржмржЗ ржЖржЧрзЗ ржЙржаржмрзЗ)	рж▓рж╛ржЗржирзЗ ржжрж╛ржБрзЬрж╛ржирзЛ ржорж╛ржирзБрж╖ (ржЖржЧрзЗ ржЖрж╕рж▓рзЗ ржЖржЧрзЗ ржпрж╛ржмрзЗ)
ржорзЗржержб	push(), pop(), peek()	enqueue(), dequeue(), front()
ржмрзНржпржмрж╣рж╛рж░	Undo system, Call stack	Message queue, Task scheduling -->
